@inherits WebViewPage<Umbraco.Forms.Web.Models.FormViewModel>
@using HHCoApps.CMSWeb.Caching
@using Umbraco.Forms.Mvc
@using Umbraco.Forms.Mvc.Models
@using Umbraco.Forms.Mvc.BusinessLogic
@using Umbraco.Web.Composing
@using ClientDependency.Core.Mvc
@{
    var umbracoHelper = Current.Factory.GetInstance<UmbracoHelper>();
    var navigationManagement = (NavigationManagement)umbracoHelper.ContentQuery.ContentSingleFromCache(CachedContent.NavigationManagementContent);

    if (!Model.DisableDefaultStylesheet)
    {
        Html.RequiresCss("~/App_Plugins/UmbracoForms/Assets/Themes/Default/style.css");
    }
}

<div class="form-group">
    @foreach (FieldsetViewModel fs in Model.CurrentPage.Fieldsets)
    {
        foreach (var c in fs.Containers)
        {
            foreach (FieldViewModel f in c.Fields)
            {
                if (f.Alias.Equals("emailAddress", StringComparison.InvariantCultureIgnoreCase))
                {
                    f.PlaceholderText = navigationManagement.SubscribePlaceholderText;
                    f.Values = Enumerable.Empty<object>();
                }
                @Html.Partial(FormThemeResolver.GetFieldView(Model, f), f)
            }
        }
    }
    <span class="subscribe___footer--error"></span>
</div>
<div class="form-group">
    <button type="submit" class="btn btn-default">
        <img src="/assets/images/icons/ajax-spinner.gif" class="spinning hidden" />
        @navigationManagement.SubscribeButtonLabel
    </button>
</div>

@Html.Partial("Forms/Themes/default/ScrollToFormScript")
